<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>carousel-fade</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        li{
            list-style: none;
        }
        a{
            text-decoration: none;
        }
        .slide-box{
            position: relative;
            width: 1000px;
            height: 500px;
            margin: 20px auto;
            overflow: hidden;
        }
        .slides li{
            width: 1000px;
            height: 500px;
            display: none;
        }
        .slides li img{
            width: 100%;
            height: 100%;
        }
        .bullet{
            position: absolute;
            left: 50%;
            bottom: 10px;
            transform: translate(-50%,0);
        }
        .bullet li{
            margin-right: 10px;
            float: left;
        }
        .bullet li a{
            display: block;
            width: 16px;
            height: 16px;
            background-color: #0db69a;
            border-radius: 50%;
            text-indent: -999em;
        }
        .bullet li a:hover,.bullet li.active a{
            background-color: #1678cf;
        }
        .slide-box .next,
        .slide-box .prev{
            display: block;
            width: 40px;
            height: 40px;
            line-height: 40px;
            background-color: rgba(0,0,0,.5);
            color: #fff;
            font-size: 28px;
            text-align: center;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            margin-top: -20px;
        }
        .slide-box .next{
            right: 10px;
        }
        .slide-box .prev{
            left: 10px;
        }
    </style>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
    <div class="slide-box">
        <ul class="slides">
            <li>
                <a href="#">
                    <img src="imgs/1.jpg" alt="">
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="imgs/2.jpg" alt="">
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="imgs/3.jpg" alt="">
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="imgs/4.jpg" alt="">
                </a>
            </li>
        </ul>
        <ol class="bullet">
            <li class="active"><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">4</a></li>
        </ol>
        <a href="javascript:void(0)" class="next"> > </a>
        <a href="javascript:void(0)" class="prev"> < </a>
    </div>
    <script>
        $(function () {
            var Slide=function () {
                function Slider($ct) {
                    this.$ct=$ct;
                    this.init();
                    this.bind();
                    this.autoPlay();
                }
                Slider.prototype={
                    init:function () {
                        this.$items = this.$ct.find(".slides").children();
                        this.$next = this.$ct.find(".next");
                        this.$prev = this.$ct.find(".prev");
                        this.$bullets = this.$ct.find(".bullet li");
                        this.$imgCount = this.$items.length;
                        this.curIndex = 0;
                        this.isAnimate = false;
                        this.clock;
                        this.$items.hide();
                        this.$items.first().show();

                    },
                    playNext:function(){
                        if (this.curIndex === this.$imgCount - 1) {
                            this.play(0);
                        }
                        this.play(this.curIndex + 1);
                    },
                    playPre:function(){
                        if (this.curIndex === 0) {
                            this.play(this.$imgCount - 1);
                        } else {
                            this.play(this.curIndex - 1);
                        }
                    },
                    bind:function(){
                        var self=this;
                        self.$items.mouseenter(function () {
                            self.stopAutoPlay();
                        }).mouseleave(function () {
                            self.autoPlay();
                        });
                        self.$bullets.click(function () {
                            var index = $(this).index();
                            self.play(index);
                        });
                        self.$next.click(function (e) {
                            e.preventDefault();
                            self.stopAutoPlay();
                            self.playNext();
                        });
                        self.$prev.click(function (e) {
                            e.preventDefault();
                            self.stopAutoPlay();
                            self.playPrev();
                        });
                    },
                    setBullet: function(){
                        this.$bullets.removeClass("active").eq(this.curIndex).addClass("active");
                    },
                    play:function(idx){
                        if (this.isAnimate) {
                            return;
                        }
                        this.isAnimate = true;
                        this.$items.eq(this.curIndex).fadeOut(500);
                        var self=this;
                        this.$items.eq(idx).fadeIn(500, function () {
                            self.isAnimate = false;
                        });
                        this.curIndex = idx;
                        this.setBullet();
                    },
                    autoPlay:function(){
                        var self=this;
                        self.clock = setInterval(function () {
                            self.playNext();
                        }, 3000);
                    },
                    stopAutoPlay:function(){
                        var self=this;
                        clearInterval(self.clock)
                    }
                };
                return{
                    init:function ($ct) {
                        $ct.each(function (idx,node) {
                            new Slider($(node));
                        })
                    }
                };
            }();
            Slide.init($(".slide-box"));
        })
    </script>
</body>
</html>
